<!DOCTYPE html>
<!--[if IE]><html class="ie"><![endif]-->
<!--[if !IE]><!--> <html> <!--<![endif]-->
<head>
	<meta charset="utf-8">
	<title>Baseline</title>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link href="/assets/css/style.css" rel="stylesheet"/>
</head>
<body>
	<div id="dropload">

	</div>
	<style>
		#dropload {
			width: 150px;
			height: 150px;
			border: 1px dashed #333;
		}
	</style>
	<script src="/src/filestream.js"></script>
	<script>
		var qsa = function(selector){
			return [].slice.call(document.querySelectorAll(selector));
		};

		document.addEventListener( "DOMContentLoaded", function(){
			var el = qsa('#dropload')[0];

			var promise = filestream({
				el: el,
				url: '/upload'
			});

			promise.then(function(response){
				console.log(response);
			});

			promise.progress(function(progress){
				console.log(progress);
			});
		}, false );
	</script>
</body>
</html>
